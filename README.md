# Audio Player

一个多功能的在线音频播放器

## 介绍

本项目为一个在线的多功能音频播放器，属于个人兴趣项目，仅用于学习和测试。

此项目主要是由User782tec（user782，以下简称782）编写的。

由于需要进行重构，近期代码改动可能较大。

### 主要功能

将文件上传至网页后，用户可以控制相关的配置，并在线播放音频。

## 更新日志

### 0.4.2 - beta

#### 新内容

* 添加了下载样式配置的功能。
  * 但暂时不支持上传文件。

#### 更改

* 继续完善了高级样式修改接口。
* 将部分“变量”声明为常量。
* 将双击操作功能提取到独立函数内。
* “更多颜色”选色器上会显示“···”并根据自身颜色调整颜色。
* 将docs/css/style.css与styles/style.css合并。
  * 并未删除原文件。

### 0.4.1 - 2022.12.17

0.4.1版本主要更新了窗口上的“全屏模式”和进度条的部分功能，更改了部分内容并修复了一些问题。

#### 新内容

* 为所有窗口添加了“全屏模式”的按钮。
* 添加了优先显示被拖动的窗口的功能。
* 添加了窗口上“全屏模式”的按钮根据模式调整的功能。
* 添加了光标会在窗口可拖动时改变图标的功能（实验性功能）。
* 添加了进度条的部分功能。

#### 更改

* 为html文档启用了DOCTYPE声明。
* 打开窗口时会同时让相应窗口置顶显示的功能。
* 文件将会被解析为Blob，而不再是DataURL。

#### 修复

* 将touch-action:none;属性设置在html元素上而非所有元素上以修复窗口内容无法滚动的问题。
* 将文档移到index.html中以修复由于网络原因导致拖动窗口时窗口里的内容会暂时不显示的问题。
  * 并未删除原文件。
* 修复了部分情况下窗口处在“全屏模式”下会超出页面大小的问题。
* 修复部分情况下窗口拖动功能失效的问题。

#### 优化

* 优化了给窗口绑定事件的函数和代码，更加简洁。

#### 已移除

* 移除了小屏设备浏览时弹出的提示。
* 移除了关于窗口的全屏模式伪类样式。

### 0.4.0 - 2022.12.10

0.4.0版本主要更新了修改背景颜色的功能，更改部分内容并修复了部分问题。

#### 新内容

* 增加了修改背景的部分功能。
* 添加了“外观”窗口。
* 添加了小屏设备浏览时弹出提示的功能。
* 为窗口工具栏、按钮等元素添加“data-window”属性。
  * 用于下一版本的对窗口事件绑定代码的优化。
* 为窗口添加全屏按钮以随时启用“全屏模式”（窗口面积会占据整个页面大小）。
  * 该功能为实验性功能，暂未实装在所有窗口上。

#### 修复

* 修复了部分情况下音频会意外地自动播放的问题。
* 禁用触摸操作以修复触摸设备上拖动窗口时触发其他事件（如下拉刷新等）的问题。
* 修复了窗口超出页面范围后出现滚动条的问题。
* 修复了窗口文字过小的问题。
* 修复了双击操作的空间会影响其他按钮点击的问题。

#### 更改

* 更新一些样式使其更加美观。
* 为菜单及按钮重设了响应式设计以更好地适配小屏设备。
* 用“transition”取代了所有“animation”。
* 更改了拖动窗口时定位的方法。
* 更改了双击事件的判断方法。
* 调整了窗口的样式。
* 继续更改了响应式设计。
  * 窗口在小屏设备上会启用“全屏模式”（窗口面积会占据整个页面大小）。

#### 已移除

* 移除了鼠标悬浮在菜单时的阴影效果。

### 0.3.0 - 2022.11.29

0.3.0版本主要更新了帮助信息，更改部分内容并修复了部分问题。

#### 新内容

* 添加了帮助的页面及窗口。
* 在菜单上添加“帮助”按钮。
* 添加了帮助页面的显示。

#### 更改

* 略微放大窗口的字体大小。
* 为窗口中的关闭按钮添加鼠标悬浮时的过渡动画。
* 略微减少窗口顶部工具栏的高度。
* 为窗口添加了响应式设计以适配小屏设备。
* 为JavaScript脚本启用“严格模式”。

### 修复

* 修复了触摸设备上“双击后页面放大”的问题。

#### 已移除

* 为了简化代码，移除了关于“全屏样式”伪类的所有样式。

### 0.2.0 - 2022.11.26

0.2.0版本作为0.1.0版本的补充，继续对0.1.0版本的欠缺内容进行补充，并为下一版本作准备。

#### 新内容

* 完成了基本窗口框架。
* 添加了关于本仓库的页面及窗口。
* 在菜单上添加“关于”按钮。
* 添加了项目信息的显示。

#### 更改

* 微调菜单按钮。
* 为菜单及按钮添加了响应式设计以适配小屏设备。

#### 修复

* ~~修复了移动端“双击后页面放大”的漏洞。~~
仍未修复。

#### 优化

* 优化了全屏功能的代码，简化函数。

#### 补丁

* 0.2.0.1 -- 2022.11.26
  * 重新优化了全屏功能的代码以修复“非法调用（Illegal invocation）”的问题。
  * 初始化main主元素的背景色为白色。

### 0.1.0 - 2022.11.21

0.1.0版本是此项目的第一个版本。此次更新完成基本框架，添加了一些基础内容与功能。

#### 新内容

* 添加基础样式、页面元素和脚本。
* 添加上传文件、播放/暂停、全屏模式、双击操作等基本功能。
